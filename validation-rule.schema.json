{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://raw.githubusercontent.com/CYRRUSCZ/dochub-schema-form-schema/refs/heads/master/validation-rule.schema.json",
    "title": "Validation Rule for form element",
    "description": "Vue form element validation rule json schema for form generator",
    "type": "object",
    "definitions": {
        "validationRule": {
            "properties": {
                "rule": {
                    "description": "Defines type of validation function to use on elements value",
                    "type": "string",
                    "enum": [
                        "required",
                        "requiredIf",
                        "min",
                        "max",
                        "minLength",
                        "maxLength",
                        "email",
                        "float",
                        "pattern",
                        "date",
                        "dateTime",
                        "minDateTime",
                        "maxDateTime",
                        "expression",
                        "numeric"
                    ]
                },
                "ruleValue": {
                    "description": "Defines value parameters for validation function",
                    "type": "string"
                },
                "errorMessage": {
                    "description": "Message displayed to user on error state",
                    "type": "string"
                },
                "ruleExpression": {
                    "description": "Rule expression blueprint",
                    "$ref": "https://raw.githubusercontent.com/CYRRUSCZ/dochub-schema-form-schema/refs/heads/master/rule-group.schema.json#/definitions/ruleGroup"
                }
            },
            "if": {
                "properties": {
                    "rule": {
                        "enum": [
                            "min",
                            "max",
                            "minLength",
                            "maxLength",
                            "pattern",
                            "minDateTime",
                            "maxDateTime"
                        ]
                    }
                }
            },
            "then": {
                "required": [
                    "rule",
                    "ruleValue",
                    "errorMessage"
                ]
            },
            "else": {
                "if": {
                    "properties": {
                        "rule": {
                            "enum": [
                                "requiredIf",
                                "expression"
                            ]
                        }
                    }
                },
                "then": {
                    "required": [
                        "rule",
                        "errorMessage",
                        "ruleExpression"
                    ]
                },
                "else": {
                    "required": [
                        "rule",
                        "errorMessage"
                    ]
                }
            }
        }
    }
}
